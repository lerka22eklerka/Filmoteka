{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-ba09244cad342f8d.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-35b7bde1761e28e8.js","src/genres.json","src/js/fb-film-modal.js","src/js/firebase.js","src/js/findMovies.js","src/js/auth-modal.js","src/js/logout-main.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"iXtly\");","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.5ea7ff9c.js\\\",\\\"iXtly\\\":\\\"noposter.751b8d89.jpg\\\",\\\"5UbS1\\\":\\\"index.44f0d4c0.css\\\",\\\"6W72L\\\":\\\"index.9d96d969.js\\\",\\\"iLoYJ\\\":\\\"index.398bedef.js\\\"}\"));","{\"genres\":[{\"id\":28,\"name\":\"Action\"},{\"id\":12,\"name\":\"Adventure\"},{\"id\":16,\"name\":\"Animation\"},{\"id\":35,\"name\":\"Comedy\"},{\"id\":80,\"name\":\"Crime\"},{\"id\":99,\"name\":\"Documentary\"},{\"id\":18,\"name\":\"Drama\"},{\"id\":10751,\"name\":\"Family\"},{\"id\":14,\"name\":\"Fantasy\"},{\"id\":36,\"name\":\"History\"},{\"id\":27,\"name\":\"Horror\"},{\"id\":10402,\"name\":\"Music\"},{\"id\":9648,\"name\":\"Mystery\"},{\"id\":10749,\"name\":\"Romance\"},{\"id\":878,\"name\":\"Science Fiction\"},{\"id\":10770,\"name\":\"TV Movie\"},{\"id\":53,\"name\":\"Thriller\"},{\"id\":10752,\"name\":\"War\"},{\"id\":37,\"name\":\"Western\"},{\"id\":10759,\"name\":\"Action & Adventure\"},{\"id\":16,\"name\":\"Animation\"},{\"id\":35,\"name\":\"Comedy\"},{\"id\":80,\"name\":\"Crime\"},{\"id\":99,\"name\":\"Documentary\"},{\"id\":18,\"name\":\"Drama\"},{\"id\":10751,\"name\":\"Family\"},{\"id\":10762,\"name\":\"Kids\"},{\"id\":9648,\"name\":\"Mystery\"},{\"id\":10763,\"name\":\"News\"},{\"id\":10764,\"name\":\"Reality\"},{\"id\":10765,\"name\":\"Sci-Fi & Fantasy\"},{\"id\":10766,\"name\":\"Soap\"},{\"id\":10767,\"name\":\"Talk\"},{\"id\":10768,\"name\":\"War & Politics\"},{\"id\":37,\"name\":\"Western\"}]}","import { API_KEY, API_URL, createImg, checkAndCreateDate } from './findMovies';\nimport { initializeApp } from 'firebase/app';\nimport {\n  readTheDoc,\n  getFirestore,\n  doc,\n  setDoc,\n  getDoc,\n  exists,\n  onSnapshot,\n  updateDoc,\n  arrayUnion,\n  collection,\n  query,\n  where,\n  getDocs,\n  arrayRemove,\n} from 'firebase/firestore/lite';\nimport {\n  getAuth,\n  showLoginError,\n  onAuthStateChanged,\n  AuthErrorCodes,\n} from 'firebase/auth';\nimport './firebase';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\niziToast.settings({\n  timeout: 2000,\n});\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyBQAPWu6PN62rmzf-LlZS504qxL8csmmBc',\n  authDomain: 'filmoteka-bdb19.firebaseapp.com',\n  projectId: 'filmoteka-bdb19',\n  storageBucket: 'filmoteka-bdb19.appspot.com',\n  messagingSenderId: '1051248700372',\n  appId: '1:1051248700372:web:2dc6796345cd1c6fa94441',\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\n\nconst firestore = getFirestore(); //наша бд\nconst auth = getAuth();\nlet addToLibrBtn;\nlet addToQueueBtn;\n\nconst buttonUpEl = document.querySelector('.button-up');\n\nconst watchedMoviesStorageName = 'filmsWatched';\nconst watchedMoviesButtonName = '.add-watched-btn';\nconst queueMoviesStorageName = 'filmsQueue';\nconst queueMoviesButtonName = '.add-queue-btn';\n\nexport async function showModal(e) {\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  }\n  document.querySelector('.modal-thumb').innerHTML = '';\n\n  document.querySelector('.drop-box').classList.remove('drop-box--is-hidden');\n  buttonUpEl.classList.add('is-hidden');\n  let url = `${API_URL}movie/${e.target.dataset.id}?api_key=${API_KEY}`;\n\n  await fetch(url)\n    .then(response => response.json())\n    .then(movie => {\n      document\n        .querySelector('.modal-thumb')\n        .insertAdjacentHTML('beforeend', createModalCard(movie));\n      document.querySelector('body').classList.add('overflow-hidden');\n\n      checkWatchedButton(movie, watchedMoviesButtonName);\n      checkQueueButton(movie, queueMoviesButtonName);\n\n      addToLibrBtn = document.querySelector(watchedMoviesButtonName);\n      addToQueueBtn = document.querySelector(queueMoviesButtonName);\n\n      addToLibrBtn.addEventListener('click', addToWatchedLibrary);\n      addToQueueBtn.addEventListener('click', addQueueLibrary);\n\n      const movieItem = {\n        id: movie.id,\n        title: movie.title,\n        img: createImg(movie.poster_path),\n        vote_average: movie.vote_average,\n        vote_count: movie.vote_count,\n        popularity: movie.popularity,\n        original_title: movie.original_title,\n        genres: createModalGenresString(movie.genres),\n        overview: movie.overview,\n        date: checkAndCreateDate(movie.release_date),\n      };\n\n      function addToWatchedLibrary(e) {\n        // додає дані до firestore\n        const arrayName = watchedMoviesStorageName; // масив до якого треба дод дані, відповідно до того по якій кнопці нажали\n\n        onAuthStateChanged(auth, user => {\n          //перевіряємо чи користувач залогінений\n          if (user) {\n            // User is signed in, see docs for a list of available properties\n            const uid = user.uid; //id користувача\n\n            async function readTheDoc(id) {\n              const myDoc = await getDoc(doc(firestore, 'users', `${id}`));\n              if (myDoc.exists()) {\n                const data = myDoc.data();\n\n                for (let i = 0; i < data.filmsWatched.length; i += 1) {\n                  if (data.filmsWatched[i].id === movieItem.id) {\n                    deleteFromStorage(uid, arrayName, movieItem);\n\n                    e.target.textContent = 'Add to watched';\n                    iziToast.success({\n                      title: 'DELETE',\n                      message: 'Successfully delete record!',\n                    });\n                    return;\n                  }\n                }\n\n                addToStorage(uid, arrayName, movieItem);\n                e.target.textContent = 'Delete from watched';\n                iziToast.success({\n                  title: 'ADD',\n                  message: 'Successfully insert record!',\n                });\n              }\n            }\n            readTheDoc(uid);\n          } else {\n            console.log('user is logout');\n          }\n        });\n      }\n\n      function addQueueLibrary(e) {\n        // додає дані до firestore\n        const arrayName = queueMoviesStorageName; // масив до якого треба дод дані, відповідно до того по якій кнопці нажали\n\n        onAuthStateChanged(auth, user => {\n          //перевіряємо чи користувач залогінений\n          if (user) {\n            // User is signed in, see docs for a list of available properties\n            const uid = user.uid; //id користувача\n\n            async function readTheDoc(id) {\n              const myDoc = await getDoc(doc(firestore, 'users', `${id}`));\n              if (myDoc.exists()) {\n                const data = myDoc.data();\n\n                for (let i = 0; i < data.filmsQueue.length; i += 1) {\n                  if (data.filmsQueue[i].id === movieItem.id) {\n                    deleteFromStorage(uid, arrayName, movieItem);\n\n                    e.target.textContent = 'Add to queue';\n                    iziToast.success({\n                      title: 'DELETE',\n                      message: 'Successfully delete record!',\n                    });\n                    return;\n                  }\n                }\n\n                addToStorage(uid, arrayName, movieItem);\n                e.target.textContent = 'Delete from queue';\n                iziToast.success({\n                  title: 'ADD',\n                  message: 'Successfully insert record!',\n                });\n              }\n            }\n            readTheDoc(uid);\n          } else {\n            console.log('user is logout');\n          }\n        });\n      }\n\n      checkUserLogIn();\n    })\n    .catch(error => console.log(error));\n}\n\nfunction addToStorage(uid, arrayName, movieItem) {\n  updateDoc(doc(firestore, 'users', `${uid}`), {\n    [arrayName]: arrayUnion(movieItem), // додаємо об`єкт фільму до масиву (це треба буде видалити, якщо буде умова з іф)\n  });\n}\n\nfunction deleteFromStorage(uid, arrayName, movieItem) {\n  updateDoc(doc(firestore, 'users', `${uid}`), {\n    //оновлюємо дані в firestore\n    [arrayName]: arrayRemove(movieItem), // видаляємо об`єкт фільму з масиву\n  });\n}\n\nfunction checkUserLogIn() {\n  onAuthStateChanged(auth, user => {\n    //перевіряємо чи користувач залогінений\n    if (!user) {\n      document.querySelector(watchedMoviesButtonName).classList.add('disabled');\n      document.querySelector(queueMoviesButtonName).classList.add('disabled');\n    }\n  });\n}\n\nfunction checkWatchedButton(movie, buttonName) {\n  onAuthStateChanged(auth, user => {\n    //перевіряємо чи користувач залогінений\n    if (user) {\n      const uid = user.uid; //id користувача\n\n      async function readTheDoc(id) {\n        const myDoc = await getDoc(doc(firestore, 'users', `${id}`));\n        if (myDoc.exists()) {\n          const data = myDoc.data();\n          for (let i = 0; i < data.filmsWatched.length; i += 1) {\n            if (data.filmsWatched[i].id === movie.id) {\n              document.querySelector(buttonName).textContent =\n                'Delete from watched';\n              return;\n            } else {\n              document.querySelector(buttonName).textContent = 'Add to watched';\n            }\n          }\n        }\n      }\n      readTheDoc(uid);\n    }\n  });\n}\n\nfunction checkQueueButton(movie, buttonName) {\n  onAuthStateChanged(auth, user => {\n    //перевіряємо чи користувач залогінений\n    if (user) {\n      const uid = user.uid; //id користувача\n\n      async function readTheDoc(id) {\n        const myDoc = await getDoc(doc(firestore, 'users', `${id}`));\n        if (myDoc.exists()) {\n          const data = myDoc.data();\n          for (let i = 0; i < data.filmsQueue.length; i += 1) {\n            if (data.filmsQueue[i].id === movie.id) {\n              document.querySelector(buttonName).textContent =\n                'Delete from queue';\n              return;\n            } else {\n              document.querySelector(buttonName).textContent = 'Add to queue';\n            }\n          }\n        }\n      }\n      readTheDoc(uid);\n    }\n  });\n}\n\nexport function closeModal() {\n  document.querySelector('.drop-box').classList.add('drop-box--is-hidden');\n  document.querySelector('body').classList.remove('overflow-hidden');\n  buttonUpEl.classList.remove('is-hidden');\n  // document.querySelector('.movie-list').removeEventListener('click', showModal);\n  // document.querySelector('#modal-btn').removeEventListener('click', closeModal);\n}\n\nexport function createModalCard(movie) {\n  return `<img class=\"modal__img\" src=\"${createImg(\n    movie.poster_path\n  )}\" alt=\"\" width=\"240\">\n                <div class=\"modal__description-thumb\">\n                    <h2 class=\"modal__title\">${movie.title}</h2>\n                    <ul class=\"movie-data\">\n                        <li>\n                            <ul class=\"movie-data__name\">\n                                <li>Vote / Votes</li>\n                                <li>Popularity</li>\n                                <li>Original Title</li>\n                                <li>Genre</li>\n                            </ul>\n                        </li>\n                        <li>\n                            <ul class=\"movie-data__content\">\n                                <li class=\"movie-data__item\">\n                                    <span class=\"movie-votes__first\">${\n                                      movie.vote_average\n                                    }</span> / <span class=\"movie-votes__sec\">${\n    movie.vote_count\n  }</span>\n                                </li>\n                                <li class=\"movie-data__item\">\n                                    <span class=\"movie-popularity__item\">${\n                                      movie.popularity\n                                    }</span>\n                                </li>\n                                <li class=\"movie-data__item\">\n                                    <span class=\"movie-orig-title__item\">${\n                                      movie.original_title\n                                    }</span>\n                                </li>\n                                <li class=\"movie-data__item\">\n                                    <span class=\"movie-genre__item\">${createModalGenresString(\n                                      movie.genres\n                                    )}</span>\n                                </li>\n                            </ul>\n                        </li>  \n                    </ul>\n                    \n                    <p class=\"movie-about\">About</p>\n                    <p class=\"movie-about-text\">${movie.overview}</p>\n                    <ul class=\"modal-btns\">\n                        <li class=\"modal-btns__item\">\n                            <button class=\"button add-watched-btn\" type=\"button\" id=\"filmsWatched\">Add to Watched</button>\n                        </li>\n                        <li class=\"modal-btns__item\">\n                            <button class=\"button add-queue-btn\" type=\"button\" id=\"filmsQueue\">Add to queue</button>\n                        </li>\n                    </ul>\n                </div>`;\n}\n\nfunction createModalGenresString(genres) {\n  return genres.map(genre => genre.name).join(', ');\n}\n","import { initializeApp } from 'firebase/app';\nimport {\n  getFirestore,\n  doc,\n  setDoc,\n  getDoc,\n  exists,\n  onSnapshot,\n  updateDoc,\n  arrayUnion,\n  collection,\n  query,\n  where,\n  getDocs,\n} from 'firebase/firestore/lite';\nimport {\n  getAuth,\n  showLoginError,\n  onAuthStateChanged,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  AuthErrorCodes,\n  signOut,\n  setPersistence,\n  currentUser,\n} from 'firebase/auth';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\niziToast.settings({\n  timeout: 2000,\n});\n\nconst emailReg = document.querySelector('#user-email-reg');\nconst passwordReg = document.querySelector('#user-password-reg');\nconst btnReg = document.querySelector('#btn-reg');\nconst emailAuth = document.querySelector('#user-email-auth');\nconst passwordAuth = document.querySelector('#user-password-auth');\nconst btnAuth = document.querySelector('#btn-auth');\nconst btnLibrary = document.querySelector('.library');\nconst btnSignIn = document.querySelector('.authorization');\nconst modalAuth = document.querySelector('.auth-modal');\nconst modalReg = document.querySelector('.registr-modal');\nconst body = document.querySelector('body');\n\nbtnSignIn.classList.add('is-stealth');\nbtnLibrary.classList.add('is-stealth');\n\n// TODO: Replace the following with your app's Firebase project configuration\nconst firebaseConfig = {\n  apiKey: 'AIzaSyBQAPWu6PN62rmzf-LlZS504qxL8csmmBc',\n  authDomain: 'filmoteka-bdb19.firebaseapp.com',\n  projectId: 'filmoteka-bdb19',\n  storageBucket: 'filmoteka-bdb19.appspot.com',\n  messagingSenderId: '1051248700372',\n  appId: '1:1051248700372:web:2dc6796345cd1c6fa94441',\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\n\nconst firestore = getFirestore();\n\n// ________________________Реєстрація Авторизація__________________________\n\nconst auth = getAuth();\n\n//створення запису в Бд\nasync function createDoc(email, id) {\n  const docData = {\n    email: email,\n    id: id,\n    filmsWatched: [],\n    filmsQueue: [],\n  };\n  try {\n    await setDoc(doc(firestore, 'users', `${id}`), docData, { merge: true });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n//авторизація користувача\nasync function loginEmailPassword(event) {\n  event.preventDefault();\n  const loginEmail = emailAuth.value;\n  const loginPassword = passwordAuth.value;\n  try {\n    const userCredential = await signInWithEmailAndPassword(\n      auth,\n      loginEmail,\n      loginPassword\n    );\n    btnLibrary.classList.remove('is-stealth');\n    btnSignIn.classList.add('is-stealth');\n    modalAuth.classList.remove('open');\n    body.classList.remove('overflow-hidden');\n    iziToast.success({\n      title: 'OK',\n      message: 'Successful login to the account!',\n    });\n  } catch (error) {\n    console.log('error');\n    iziToast.error({\n      title: 'Error',\n      message: 'Check the entered data or Sign up',\n    });\n  }\n}\n\n//створення акаунта\nasync function createAccaunt(event) {\n  event.preventDefault();\n  const regEmail = emailReg.value;\n  const regPassword = passwordReg.value;\n\n  try {\n    const userCredential = await createUserWithEmailAndPassword(\n      auth,\n      regEmail,\n      regPassword\n    );\n    const userId = userCredential.user.uid;\n    createDoc(regEmail, userId);\n    btnLibrary.classList.remove('is-stealth');\n    btnSignIn.classList.add('is-stealth');\n    modalReg.classList.remove('open');\n    body.classList.remove('overflow-hidden');\n    iziToast.success({\n      title: 'OK',\n      message: 'Account created successfully!',\n    });\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Check the entered data or Sign in',\n    });\n  }\n}\n\nbtnReg.addEventListener('click', createAccaunt);\nbtnAuth.addEventListener('click', loginEmailPassword);\n\nonAuthStateChanged(auth, user => {\n  if (user) {\n    btnLibrary.classList.remove('is-stealth');\n  } else {\n    btnSignIn.classList.remove('is-stealth');\n  }\n});\n","import { genres } from '../genres.json';\nimport { showModal, closeModal } from './fb-film-modal';\n\nexport const API_URL = 'https://api.themoviedb.org/3/';\nexport const API_KEY = 'afc22cf5c573169849cabd6217d3b7d3';\nlet requestMovie = '';\nlet pageNumber = 1;\nlet totalPages = 1;\nlet searchingFlag = false;\n\nconst inputEl = document.querySelector('.header__input');\nconst searchButtonEl = document.querySelector('.search-btn');\nconst formEl = document.querySelector('.header__form');\nconst movieListEl = document.querySelector('.movie-list');\nconst closeModalBtn = document.querySelector('#modal-btn');\nconst paginationBtn = document.querySelectorAll('.pagination-btn');\nconst mainPaginationBtn = document.querySelector('.pagination-btn__main');\nconst arrowLeftBtn = document.querySelector('.pagination-btn__arrow-left');\nconst arrowRightBtn = document.querySelector('.pagination-btn__arrow-right');\nconst paginationNumbers = document.querySelector('.pagination-list');\nconst pagination = document.querySelector('.pagination');\nconst loadSpinner = document.querySelector('.loader');\n\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n});\n\nshowMovies(createCurrentUrl(pageNumber));\n\nsearchButtonEl.addEventListener('click', loadMovies);\ninputEl.addEventListener('input', serchingParametr);\nmovieListEl.addEventListener('click', showModal);\ncloseModalBtn.addEventListener('click', () => closeModal());\ndocument.addEventListener('keydown', e => {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n});\ndocument.querySelector('.drop-box').addEventListener('click', e => {\n  if (!document.querySelector('.modal').contains(e.target)) {\n    closeModal();\n  }\n});\narrowLeftBtn.addEventListener('click', () => {\n  if (pageNumber <= 1) {\n    return;\n  }\n  pageNumber -= 1;\n\n  paginationPageChange();\n});\narrowRightBtn.addEventListener('click', () => {\n  if (totalPages <= pageNumber) {\n    return;\n  }\n  pageNumber = Number.parseInt(pageNumber) + 1;\n\n  paginationPageChange();\n});\npaginationNumbers.addEventListener('click', e => {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  if (e.target.textContent && e.target.textContent !== '...') {\n    pageNumber = e.target.textContent;\n\n    paginationPageChange();\n  }\n});\n\nfunction createCurrentUrl(pageNumber) {\n  return `${API_URL}trending/movie/week?api_key=${API_KEY}&page=${pageNumber}`;\n}\n\nfunction createSearchingUrl(requestMovie, pageNumber) {\n  return `${API_URL}search/movie?api_key=${API_KEY}&query=${requestMovie.trim()}&page=${pageNumber}`;\n}\n\nfunction loadMovies(e) {\n  let check = checkforNotFoundNotification(requestMovie.trim().length < 1);\n  if (check) {\n    pageNumber = 1;\n    searchingFlag = true;\n    loadSpinner.classList.remove('is-hidden__spinner');\n    showMovies(createSearchingUrl(requestMovie, pageNumber));\n  }\n}\n\nfunction showMovies(url) {\n  fetch(url)\n    .then(response => response.json())\n    .then(movies => {\n      checkforNotFoundNotification(\n        movies.results === undefined || movies.results.length < 1\n      );\n\n      if (movies.results.length !== 0) {\n        loadSpinner.classList.add('is-hidden__spinner');\n        pagination.classList.remove(`is-stealth`);\n        clearPage();\n        totalPages = movies.total_pages;\n        puginationNumeration(pageNumber, totalPages);\n        movieListEl.insertAdjacentHTML('beforeend', createMoviesList(movies));\n      }\n    })\n    .catch(error => console.log(error));\n}\n\nfunction serchingParametr(e) {\n  requestMovie = e.currentTarget.value;\n}\n\nfunction createMoviesList(movies) {\n  return movies.results\n    .map(\n      ({ poster_path, id, title, genre_ids, release_date, vote_average }) => {\n        return `<li class=\"movie-item movie-view__image\">\n                    <img class=\"movie-img\" src=\"${createImg(\n                      poster_path\n                    )}\" data-id=\"${id}\" alt=\"${title}\" width=\"280\">\n                    <span class =\"movie-view__rate\">${vote_average}</span>\n                    <h2 class=\"movie-title\">${title}</h2>\n                    <p class=\"movie-description\">${createGenresString(\n                      genre_ids\n                    )} | ${checkAndCreateDate(release_date)}</p>\n                </li>`;\n      }\n    )\n    .join('');\n}\n\nexport function createImg(poster_path) {\n  let noposter = new Image();\n  noposter.src = require('../images/noposter.jpg');\n  let posterPath = `https://image.tmdb.org/t/p/w300${poster_path}`;\n  if (poster_path === null) {\n    posterPath = noposter.src;\n  }\n  return posterPath;\n}\n\nfunction createGenresString(genre_ids) {\n  if (genre_ids.length < 1) {\n    return 'Unknown genre';\n  }\n\n  if (genre_ids.length > 2) {\n    return (\n      genre_ids\n        .slice(0, 2)\n        .map(id => {\n          for (let i = 0; i < genres.length; i += 1) {\n            if (genres[i].id === id) {\n              return genres[i].name;\n            }\n          }\n        })\n        .join(', ') + ', others...'\n    );\n  }\n  return genre_ids\n    .map(id => {\n      for (let i = 0; i < genres.length; i += 1) {\n        if (genres[i].id === id) {\n          return genres[i].name;\n        }\n      }\n    })\n    .join(', ');\n}\n\nexport function checkAndCreateDate(release_date) {\n  let date = 'Unknown date';\n  if (release_date) {\n    date = release_date.slice(0, 4);\n  }\n\n  return date;\n}\n\nfunction clearPage() {\n  movieListEl.innerHTML = '';\n}\n\nfunction showNotFoundNotification() {\n  document\n    .querySelector('.not-found-notification')\n    .classList.remove('disabled');\n  loadSpinner.classList.add('is-hidden__spinner');\n}\n\nfunction clearNotFoundNotification() {\n  document.querySelector('.not-found-notification').classList.add('disabled');\n}\n\nfunction checkforNotFoundNotification(flag) {\n  if (flag) {\n    showNotFoundNotification();\n  } else {\n    clearNotFoundNotification();\n  }\n  return document\n    .querySelector('.not-found-notification')\n    .classList.contains('disabled');\n}\n\nfunction puginationNumeration(currentPage, totalPages) {\n  paginationBtn[0].textContent = Number.parseInt(currentPage) - 4 > 0 ? 1 : '';\n\n  if (Number.parseInt(currentPage) - 3 === 1) {\n    paginationBtn[1].textContent = 1;\n  } else if (Number.parseInt(currentPage) - 3 > 0) {\n    paginationBtn[1].textContent = '...';\n  } else {\n    paginationBtn[1].textContent = '';\n  }\n  paginationBtn[2].textContent =\n    Number.parseInt(currentPage) - 2 > 0\n      ? Number.parseInt(currentPage) - 2\n      : '';\n  paginationBtn[3].textContent =\n    Number.parseInt(currentPage) - 1 > 0\n      ? Number.parseInt(currentPage) - 1\n      : '';\n  mainPaginationBtn.textContent = Number.parseInt(currentPage);\n  paginationBtn[5].textContent =\n    Number.parseInt(currentPage) + 1 <= Number.parseInt(totalPages)\n      ? Number.parseInt(currentPage) + 1\n      : '';\n  paginationBtn[6].textContent =\n    Number.parseInt(currentPage) + 2 <= Number.parseInt(totalPages)\n      ? Number.parseInt(currentPage) + 2\n      : '';\n\n  if (Number.parseInt(currentPage) + 3 === Number.parseInt(totalPages)) {\n    paginationBtn[7].textContent = Number.parseInt(totalPages);\n  } else if (Number.parseInt(currentPage) + 3 <= Number.parseInt(totalPages)) {\n    paginationBtn[7].textContent = '...';\n  } else {\n    paginationBtn[7].textContent = '';\n  }\n  paginationBtn[8].textContent =\n    Number.parseInt(currentPage) + 4 <= Number.parseInt(totalPages)\n      ? Number.parseInt(totalPages)\n      : '';\n\n  if (!paginationBtn[5].textContent) {\n    arrowRightBtn.classList.add('disabled');\n  } else {\n    arrowRightBtn.classList.remove('disabled');\n  }\n\n  if (!paginationBtn[3].textContent) {\n    arrowLeftBtn.classList.add('disabled');\n  } else {\n    arrowLeftBtn.classList.remove('disabled');\n  }\n}\n\nfunction paginationPageChange() {\n  if (!searchingFlag) {\n    showMovies(createCurrentUrl(pageNumber));\n  } else {\n    showMovies(createSearchingUrl(requestMovie, pageNumber));\n  }\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n","const authLink = document.querySelector('.authorization');\nconst authModal = document.querySelector('.auth-modal');\nconst closeBtn = document.querySelector('#auth-modal-btn');\nconst registrLink = document.querySelector('.registration');\nconst registrModal = document.querySelector('#registr-modal');\nconst registrCloseBtn = document.querySelector('#registr-modal-btn');\nconst authBackdrop = document.querySelector('.auth-modal__box');\nconst registrBackdrop = document.querySelector('.registr-modal__box');\nconst authModalLink = document.querySelector('.authorization-link');\nconst body = document.querySelector('body');\n\nauthLink.addEventListener('click', onClickAuthLink);\nregistrLink.addEventListener('click', onClickRegistrLink);\n\nfunction onClickAuthLink(e) {\n  e.preventDefault();\n  authModal.classList.add('open');\n  body.classList.add('overflow-hidden');\n  document.addEventListener('keydown', onEscapeClick);\n  closeBtn.addEventListener('click', onClickCloseBtn);\n  authBackdrop.addEventListener('click', onAuthBackdropClick);\n}\n\nfunction onClickCloseBtn() {\n  authModal.classList.remove('open');\n  body.classList.remove('overflow-hidden');\n  document.removeEventListener('keydown', onEscapeClick);\n  closeBtn.removeEventListener('click', onClickCloseBtn);\n  authBackdrop.removeEventListener('click', onAuthBackdropClick);\n}\n\nfunction onAuthBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onClickCloseBtn();\n  }\n}\n\nfunction onClickRegistrLink(e) {\n  e.preventDefault();\n  authModal.classList.remove('open');\n  registrModal.classList.add('open');\n  registrCloseBtn.addEventListener('click', onRegistrCloseBtn);\n  registrBackdrop.addEventListener('click', onRegistrBackdropClick);\n  authModalLink.addEventListener('click', onClickAuthModalLink);\n}\n\nfunction onClickAuthModalLink(e) {\n  e.preventDefault();\n  registrModal.classList.remove('open');\n  authModal.classList.add('open');\n}\n\nfunction onRegistrCloseBtn() {\n  registrModal.classList.remove('open');\n  body.classList.remove('overflow-hidden');\n  registrCloseBtn.removeEventListener('click', onRegistrCloseBtn);\n  registrBackdrop.removeEventListener('click', onRegistrBackdropClick);\n  authModalLink.removeEventListener('click', onClickAuthModalLink);\n}\n\nfunction onRegistrBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onRegistrCloseBtn();\n  }\n}\n\nfunction onEscapeClick(e) {\n  if (e.code === 'Escape') {\n    onClickCloseBtn();\n    onRegistrCloseBtn();\n  }\n}\n","import { initializeApp } from 'firebase/app';\nimport {\n  getAuth,\n  showLoginError,\n  onAuthStateChanged,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  AuthErrorCodes,\n  signOut,\n  setPersistence,\n} from 'firebase/auth';\n\nconst logOutMain = document.querySelector('#logout-main');\n\nlogOutMain.classList.add(`is-stealth`);\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyBQAPWu6PN62rmzf-LlZS504qxL8csmmBc',\n  authDomain: 'filmoteka-bdb19.firebaseapp.com',\n  projectId: 'filmoteka-bdb19',\n  storageBucket: 'filmoteka-bdb19.appspot.com',\n  messagingSenderId: '1051248700372',\n  appId: '1:1051248700372:web:2dc6796345cd1c6fa94441',\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst auth = getAuth();\n\nlogOutMain.addEventListener('click', logOut);\n\nonAuthStateChanged(auth, user => {\n  //перевіряємо чи користувач залогінений\n  if (user) {\n    logOutMain.classList.remove(`is-stealth`);\n  } else {\n    logOutMain.classList.add(`is-stealth`);\n  }\n});\n\nfunction logOut() {\n  signOut(auth)\n    .then(() => {\n      location.href = '../filmoteka-team3/index.html';\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","parcelRequire","getBundleURL","resolve","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","register","JSON","parse","$b764a922f00d3234$exports","$bpxeT","$parcel$interopDefault","settings","timeout","$db0a627a18027f51$var$emailReg","document","querySelector","$db0a627a18027f51$var$passwordReg","$db0a627a18027f51$var$btnReg","$db0a627a18027f51$var$emailAuth","$db0a627a18027f51$var$passwordAuth","$db0a627a18027f51$var$btnAuth","$db0a627a18027f51$var$btnLibrary","$db0a627a18027f51$var$btnSignIn","$db0a627a18027f51$var$modalAuth","$db0a627a18027f51$var$modalReg","$db0a627a18027f51$var$body","classList","add","$6Urw1","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","$db0a627a18027f51$var$firestore","$c69b4","getFirestore","$db0a627a18027f51$var$auth","$3SEMc","getAuth","$db0a627a18027f51$var$createDoc","email","$db0a627a18027f51$var$_createDoc","apply","this","arguments","$2TvXO","mark","_callee","docData","filmsWatched","filmsQueue","setDoc","doc","concat","merge","console","log","_ctx","t0","$db0a627a18027f51$var$_loginEmailPassword","event","loginEmail","loginPassword","preventDefault","signInWithEmailAndPassword","sent","remove","$k6tlf","success","title","message","error","$db0a627a18027f51$var$_createAccaunt","regEmail","regPassword","userCredential","userId","createUserWithEmailAndPassword","user","uid","addEventListener","onAuthStateChanged","$dbce6065c7614c66$var$addToLibrBtn","$dbce6065c7614c66$var$addToQueueBtn","$dbce6065c7614c66$var$firestore","$dbce6065c7614c66$var$auth","$dbce6065c7614c66$var$buttonUpEl","$dbce6065c7614c66$var$watchedMoviesStorageName","$dbce6065c7614c66$var$watchedMoviesButtonName","$dbce6065c7614c66$var$queueMoviesStorageName","$dbce6065c7614c66$var$queueMoviesButtonName","$dbce6065c7614c66$var$_showModal","_callee1","e1","target","nodeName","innerHTML","$5243d4a293ed14e3$export$923ea8233b386e99","dataset","$5243d4a293ed14e3$export$a9861bd62f48e142","fetch","then","response","json","movie","insertAdjacentHTML","$dbce6065c7614c66$export$b26c0d07693be858","$dbce6065c7614c66$var$checkWatchedButton","$dbce6065c7614c66$var$checkQueueButton","e","arrayName","_readTheDoc","myDoc","data","getDoc","exists","movieItem","$dbce6065c7614c66$var$deleteFromStorage","textContent","$dbce6065c7614c66$var$addToStorage","readTheDoc1","readTheDoc2","img","$5243d4a293ed14e3$export$63d5fba56e05b0e8","poster_path","vote_average","vote_count","popularity","original_title","genres","$dbce6065c7614c66$var$createModalGenresString","overview","date","$5243d4a293ed14e3$export$1135b84501fad640","release_date","$dbce6065c7614c66$var$checkUserLogIn","catch","updateDoc","$hKHmD","arrayUnion","arrayRemove","buttonName","readTheDoc3","readTheDoc4","$dbce6065c7614c66$export$3f6fecd573f3fa48","map","genre","name","join","$5243d4a293ed14e3$var$requestMovie","$5243d4a293ed14e3$var$pageNumber","$5243d4a293ed14e3$var$totalPages","$5243d4a293ed14e3$var$searchingFlag","$5243d4a293ed14e3$var$inputEl","$5243d4a293ed14e3$var$searchButtonEl","$5243d4a293ed14e3$var$formEl","$5243d4a293ed14e3$var$movieListEl","$5243d4a293ed14e3$var$closeModalBtn","$5243d4a293ed14e3$var$paginationBtn","querySelectorAll","$5243d4a293ed14e3$var$mainPaginationBtn","$5243d4a293ed14e3$var$arrowLeftBtn","$5243d4a293ed14e3$var$arrowRightBtn","$5243d4a293ed14e3$var$paginationNumbers","$5243d4a293ed14e3$var$pagination","$5243d4a293ed14e3$var$loadSpinner","$5243d4a293ed14e3$var$createCurrentUrl","pageNumber1","$5243d4a293ed14e3$var$createSearchingUrl","requestMovie1","pageNumber2","trim","$5243d4a293ed14e3$var$showMovies","movies","$5243d4a293ed14e3$var$checkforNotFoundNotification","undefined","results","total_pages","currentPage","totalPages1","Number","parseInt","$5243d4a293ed14e3$var$puginationNumeration","param","genre_ids","slice","$5243d4a293ed14e3$var$createGenresString","$5243d4a293ed14e3$var$createMoviesList","noposter","Image","src","posterPath","flag","contains","$5243d4a293ed14e3$var$paginationPageChange","window","scrollTo","top","behavior","currentTarget","code","$8ebe3429075cb445$var$authLink","$8ebe3429075cb445$var$authModal","$8ebe3429075cb445$var$closeBtn","$8ebe3429075cb445$var$registrLink","$8ebe3429075cb445$var$registrModal","$8ebe3429075cb445$var$registrCloseBtn","$8ebe3429075cb445$var$authBackdrop","$8ebe3429075cb445$var$registrBackdrop","$8ebe3429075cb445$var$authModalLink","$8ebe3429075cb445$var$body","$8ebe3429075cb445$var$onClickCloseBtn","removeEventListener","$8ebe3429075cb445$var$onEscapeClick","$8ebe3429075cb445$var$onAuthBackdropClick","$8ebe3429075cb445$var$onClickAuthModalLink","$8ebe3429075cb445$var$onRegistrCloseBtn","$8ebe3429075cb445$var$onRegistrBackdropClick","$eb11098e7b1bfbb9$var$logOutMain","$eb11098e7b1bfbb9$var$auth","signOut","location","href"],"version":3,"file":"index.5ea7ff9c.js.map"}